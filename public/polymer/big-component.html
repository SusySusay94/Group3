<link rel="import" href="./components/polymer/polymer.html">
<link rel="import" href="./profile-display.html">
<link rel="import" href="./components/app-route/app-route.html" />
<link rel="import" href="./components/app-route/app-location.html" />
<link rel="import" href="./components/iron-pages/iron-pages.html"
<!--
This is the polymer component for the search field.
-->

<dom-module id="big-component">
  <template>
    <style>
    .fields{
        display: flex;
        flex-direction: row;
    }
    .input-fields{
      display: flex;
      flex-direction: row;
      width: 100%;
      height: 100%;
    }
    .background-image{
        width: 100%;
        height: 40%;
    }

    </style>

    <app-location route="{{route}}"></app-location>
    <app-route
    route="{{route}}"
    pattern="/:view"
    data="{{routeData}}"
    tail="{{subroute}}"></app-route>

    <app-route
    route="{{subroute}}"
    pattern="/:freelancer_id"
    data="{{subRouteData}}"></app-route>

    <iron-pages attr-for-selected="name" selected="[[page]]" fallback-selection="search">
      <form name="search">
          <div class = "input-fields">
              <div class = 'fields'>
                  <div>


                      <search-field search-data={{searchData}}></search-field>
                      <search-display search-data={{searchData}}></search-display>
                      <div>
                          <!-- <img src = "../img/background.jpg" class = "background-image"> -->
                      </div>

                  </div>
              </div>
          </div>
      </form>
      <profile-display freelancer-id="{{freelancerId}}" name="profile"></profile-display>
    </iron-pages>


<!-- [[prop1]] -->
  </template>

  <script>
    Polymer({

      is: 'big-component',

      properties: {
        prop1: {
          type: String,
          value: 'Â© Job Advisor',
        },
        searchData:{
          type:[],
          value:[]
        },
        page:{
          type:String,
          value:"profile"
        },
        freelancerId:{
          type:String,
          default:""
        }
      },
      observers:[
        "_routePageChanged(routeData.view)",
        "_subRouteChanged(subRouteData.freelancer_id)"
      ],
        _routePageChanged(newPage){
          console.log(newPage)
          this.page= newPage
        },
        _subRouteChanged(id){
          this.freelancerId=id
        }


    });
  </script>
</dom-module>
